import "dart:io";
import "dart:convert";  

void main() {
  stdout.encoding = utf8;
  
  int exp = 0;
  int gold = 100; 
  int level = 1;
  
  print("‚ö°Ô∏è–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Life-Tracker‚ö°Ô∏è");
  stdout.write('–ù–∞–∑–æ–≤–∏ —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞: ');
  
  String salam = stdin.readLineSync(encoding: utf8)!.trim(); 
  
  print('–û—Ç–ª–∏—á–Ω–æ, –ø—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è $salam, –ø–æ—Ä–∞ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —É–ª—É—á—à–µ–Ω–∏—é –≤–∞—à–µ–π –∂–∏–∑–Ω–∏!\n');
  
  print("üìä –í–ê–®–ê –°–¢–ê–¢–ò–°–¢–ò–ö–ê:");
  print("–û–ø—ã—Ç: $exp/100");
  print("–£—Ä–æ–≤–µ–Ω—å: $level");
  print("–ó–æ–ª–æ—Ç–æ: $gold\n");
  
  print("–ù–µ –∂–µ–ª–∞–µ—Ç–µ –ª–∏ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –Ω–∞—á–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞?");
  stdout.write("(–¥–∞/–Ω–µ—Ç): ");
  
  String answer = stdin.readLineSync(encoding: utf8)!.trim().toLowerCase();
  
  if (answer == "–¥–∞") {
    print("\n‚úÖ –í—ã –≤—ã–±—Ä–∞–ª–∏: –î–ê");
    stdout.write("–û—Ç–ª–∏—á–Ω–æ! –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ –¥–ª—è –æ–ø–ª–∞—Ç—ã –≤ —Ç–µ–ª–µ–≥—Ä–∞–º t.me/whocaresbratec");
    stdout.write("–°–ø–∞—Å–∏–±–æ –∑–∞ –æ–ø–ª–∞—Ç—É!");
  } else if (answer == "–Ω–µ—Ç") {
    print("\n‚ùå –í—ã –≤—ã–±—Ä–∞–ª–∏: –ù–ï–¢");
    stdout.write("\n–ü–æ—á–µ–º—É –Ω–µ—Ç? –ù–∞–ø–∏—à–∏—Ç–µ –æ–± —ç—Ç–æ–º –ø–æ–∂–∞–ª—É–π—Å—Ç–∞: ");
    String explanation = stdin.readLineSync(encoding: utf8)!.trim();
    stdout.write("\n–í–∞—à –æ—Ç–≤–µ—Ç: $explanation");
    print("\n–°–ø–∞—Å–∏–±–æ –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å!");
  } else {
    print("\nüòµ –ù–µ–ø–æ–Ω—è—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç: '$answer', –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.");
  }
  
  stdout.write("\n–ñ–µ–ª–∞–µ–º –≤–∞–º —É—Å–ø–µ—Ö–æ–≤!");

  String task1 = "";
  bool validTask = false;
  
  while (!validTask) {
    stdout.write("\n\n–ü–æ—Ä–∞ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å!\n–ß—Ç–æ —Å–µ–≥–æ–¥–Ω—è —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å? –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ—é –∑–∞–¥–∞—á—É: ");
    task1 = stdin.readLineSync(encoding: utf8)!.trim();
    
    if (task1.isEmpty) {
      print("‚ùå –ó–∞–¥–∞—á–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.");
    } else if (task1.length < 3) {
      print("‚ùå –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ! –ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞.");
    } else {
      validTask = true;
    }
  }
  
  print("\n–í—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å: $task1");
  print("–í–∞—à–µ –∑–∞–¥–∞–Ω–∏–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫: –°–ª–æ–∂–Ω–æ–µüëπ");
  
  // === –ü–†–û–í–ï–†–ö–ê –û–ü–´–¢–ê (–¢–û–õ–¨–ö–û –¶–ò–§–†–´) ===
  int expReward = 0;
  bool validExp = false;
  
  while (!validExp) {
    stdout.write("\n–°–∫–æ–ª—å–∫–æ –æ–ø—ã—Ç–∞ –≤—ã –±—ã —Ö–æ—Ç–µ–ª–∏ –∑–∞ –Ω–µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å? (–Ω–∞–ø–∏—à–∏—Ç–µ —Ü–∏—Ñ—Ä–∞–º–∏): ");
    String expInput = stdin.readLineSync(encoding: utf8)!.trim();
    
    if (int.tryParse(expInput) != null) {
      expReward = int.parse(expInput);
      if (expReward > 0) {
        validExp = true;
      } else {
        print("‚ùå –û–ø—ã—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ 0!");
      }
    } else {
      print("‚ùå –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã! –í—ã –≤–≤–µ–ª–∏: '$expInput'");
    }
  }
  
  print("\n$expReward –æ–ø—ã—Ç–∞, –æ—Ç–ª–∏—á–Ω–æ!");
  
  // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø—ã—Ç –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É
  exp += expReward;
  print("\nüéâ –¢–µ–ø–µ—Ä—å —É –≤–∞—Å $exp –æ–ø—ã—Ç–∞!");
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Ä–æ–≤–µ–Ω—å
  if (exp >= 100) {
    level++;
    exp = exp - 100;
    print("\nüéä –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ $level —É—Ä–æ–≤–Ω—è!");
  }
  
  print("\nüìä –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:");
  print("–û–ø—ã—Ç: $exp/100");
  print("–£—Ä–æ–≤–µ–Ω—å: $level");
  print("–ó–æ–ª–æ—Ç–æ: $gold");
}